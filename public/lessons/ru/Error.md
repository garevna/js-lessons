# ![ico-30 study] Exceptions

–ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏.
–û–¥–Ω–∞–∫–æ –º—ã –º–æ–∂–µ–º "–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å" –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

–ö–æ–≥–¥–∞ –º—ã "–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º" –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–æ –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–µ–∫–∏–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

–ü—Ä–µ–∂–¥–µ, —á–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —Ä–∞–∑–±–µ—Ä–µ–º—Å—è —Å –æ–±–µ–∫—Ç–æ–º –æ—à–∏–±–∫–∏ (–º–æ–¥–µ–ª—å—é –∏—Å–∫–ª—é—á–µ–Ω–∏—è) –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ—à–∏–±–∫–∏.

‚òº‚òº‚òº –ë–∞—á–∏—à –æ–±'—î–∫—Ç? - —à—É–∫–∞–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚òº‚òº‚òº

## ![ico-30 icon] –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### ![ico-20 icon] Error

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä **Error** —Å–æ–∑–¥–∞—ë—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—ä–µ–∫—Ç **~Error~**.

![](illustrations/Error-constructor.png)

![ico-20 warn] ^^–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä **Error** –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –±–µ–∑ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ **~new~**.^^

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
^^(–æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –±—ã–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–∞–º–∏).^^

![ico-25 cap] ** 1**

~~~js
var err = new Error('Arguments are not valid')
console.dir(err)
~~~

![](illustrations/Error-example-01.png)

–û–¥–Ω–∞–∫–æ –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ **Error**.

![ico-25 cap] ** 2**

~~~js
var error = Object.assign(new Error('Hello'), {
  fileName: 'figure',
  lineNumber: 11,
  stack: 'Welcome'
})

console.dir(error)
console.error(error)
~~~

![](illustrations/Error-example-02.png)

_________________

–ú—ã —É–∂–µ –∑–Ω–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π, —Ç–∞–∫–∏–µ –∫–∞–∫ ~SyntaxError~, ~ReferenceError~ and ~TypeError~.
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –µ—Å—Ç—å —Å–≤–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
–û–¥–Ω–∞–∫–æ –∫–∞–∂–¥—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ ~Error~.

### ![ico-20 icon] SyntaxError

![](illustrations/SyntaxError.png)

![ico-25 cap] ** 3**

~~~js
const syntaxError = Object.assign(new SyntaxError(), {
  message: 'You should learn JS.',
  name: 'Ignorant newbie Error.',
  stack: 'Code execution failed.'
})

console.dir(syntaxError)
console.error(syntaxError)
~~~

![](illustrations/SyntaxError-example-01.png)

_________________________

### ![ico-20 icon] ReferenceError

![](illustrations/ReferenceError.png)

![ico-25 cap] ** 4**

~~~js
const referenceError = Object.assign(new ReferenceError(), {
  message: 'We do not know such a person.',
  name: 'Identification Error.',
  stack: 'Search for person failed.'
})
console.dir(referenceError)
console.error(referenceError)
~~~

![](illustrations/ReferenceError-example-01.png)
________________________

### ![ico-20 icon] TypeError

![](illustrations/TypeError.png)

![ico-25 cap] ** 5**

~~~js
const typeError = Object.assign(new TypeError(), {
  message: 'Invalid pincode',
  name: 'Custom Error',
  stack: 'Look here...'
})

console.dir(typeError)
console.error(typeError)
~~~

![](illustrations/TypeError-example-01.png)

____________________________

## ![ico-30 icon] –û–ø–µ—Ä–∞—Ç–æ—Ä throw

–í—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ throw.

–û–ø–µ—Ä–∞—Ç–æ—Ä **~throw~** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–æ—à–∏–±–∫—É).

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥–µ—Ç –ø—Ä–µ—Ä–≤–∞–Ω–æ, –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ –ø–µ—Ä–≤—ã–π –±–ª–æ–∫ **_catch_** –≤ —Å—Ç–µ–∫–µ –≤—ã–∑–æ–≤–æ–≤.

–ï—Å–ª–∏ –±–ª–æ–∫ **_catch_** –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.

![ico-25 cap] ** 6**

~~~js
const syntaxError = Object.assign(new SyntaxError(), {
  message: 'You should learn JS.',
  name: 'Ignorant newbie Error.',
  stack: 'Code execution failed.'
})

throw syntaxError
~~~

![](illustrations/SyntaxError-example-02.png)

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π, —á—Ç–æ –∏ –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –º—ã –≤—ã–≤–æ–¥–∏–º –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —Å –ø–æ–º–æ—â—å—é ~console.log~.

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ—à–∏–±–∫–∏, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ—à–∏–±–æ–∫, –∏ –∫–∞–∫ –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç—É –æ—à–∏–±–æ–∫.

________________________

## ![ico-25 icon] try ... catch

–û–ø–µ—Ä–∞—Ç–æ—Ä   ~try ... catch~   –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

~~~js
try {
  ...
} catch (err) {
  ...
}
~~~

–ï—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –≤ –±–ª–æ–∫–µ  **~try { ... }~**  –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–π–¥–µ—Ç –≤ –±–ª–æ–∫  **~catch~** —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ –æ—à–∏–±–∫–∏.

![ico-25 cap] ** 7**

~~~js
var obj = null

try {
  var x = obj.name
} catch (err) {
  var x = null
}
~~~

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞

~~~js
var x = obj.name
~~~

–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—é —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ "–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è" –≤ –±–ª–æ–∫–µ **_try_**, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –±–ª–æ–∫ **_catch_**, –≥–¥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π  ** x ** –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ **~undefined~**, –∏ —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.

__________________________________

![ico-25 cap] ** 8**

~~~js
function outerFunc () {
  return innerFunc()
}

function innerFunc () {
  try {
    return sample()
  } catch (err) {
    console.group(err.name)
    console.warn(err.message)
    console.groupEnd(err.name)
    return err.name === 'ReferenceError' ? 1 : 2
  }
}

console.log('Result:', outerFunc())
~~~

![](illustrations/Error-example-reference-error-01.png)

![ico-25 cap] ** 9**

~~~js
sample = 5

function outerFunc () {
  return innerFunc()
}

function innerFunc () {
  try {
    return sample()
  } catch (err) {
    console.group(err.name)
    console.warn(err.message)
    console.groupEnd(err.name)
    return err.name === 'ReferenceError' ? 1 : 2
  }
}

console.log('Result:', outerFunc())
~~~

![](illustrations/Error-example-type-error-01.png)

_________________________


^^^[ES 2019]

–° 2019 –≥–æ–¥–∞ –≤ –±–ª–æ–∫ **_catch_** –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç:

~~~js
var obj = null

try {
  var x = obj.name
} catch {
  x = null
}
~~~

^^^

### ![ico-20 icon] finally

–≠—Ç–æ—Ç –±–ª–æ–∫ –∫–æ–¥–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —á–µ–º –∑–∞–≤–µ—Ä—à–∏–ª—Å—è `try...catch`

![ico-25 cap] **10**

~~~js
try {
  throw({
    name: 'Hi',
    message: 'It\'s a joke',
    stack: `
      Hello,
      sorry for the interruption,
      I really wanted to say hello üòâ
    `
  })
} catch (err) {
    console.error(err.stack)
} finally {
   console.info('try...catch completed')
}
~~~

![](illustrations/try-catch-finally-01.png)

____________________________
![ico-25 cap] **11**

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞:

~~~js
try {
  throw new Error('Arguments not valid')
} catch (err) {
  console.error(`${err.name}: ${err.message}`)
}
~~~

–≤ –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:

‚Ä¢‚Ä¢![ico-20 error] Error: Arguments not valid‚Ä¢‚Ä¢

____________________________

![ico-25 cap] **12**

~~~js
var num = {}

try {
  if (typeof num !== 'number') {
    var err = new Error('Arguments not valid')
    err.name = 'ValidationError'
    throw err
  }
} catch (err) {
  console.error(`${err.name}: ${err.message}`)
}

console.dir(err)
~~~

![](illustrations/Error-example-12.png)

_________________

![ico-25 cap] **13**

~~~js
try {
  throw({ name: 'Hi', message: 'It\'s a joke' } )
} catch (err) {
  console.log(err.name, err.message)
}
~~~

_________________

![ico-25 cap] **14**

~~~js
try {
  throw({
    name: 'Hi',
    message: 'It\'s a joke',
    stack: `
      –ü—Ä–∏–≤–µ—Ç,
      –∏–∑–≤–∏–Ω–∏—Ç–µ –∑–∞ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ,
      –æ—á–µ–Ω—å —Ö–æ—Ç–µ–ª–æ—Å—å –ø–æ–∑–¥–æ—Ä–æ–≤–∞—Ç—å—Å—è üòâ
    `
  })
} catch (err) { console.error(err.stack) }

~~~

_________________________

## AggregateError

![ico-25 cap] **15**

~~~js
const array = [5, 'hero', false, 9, { type: 0 }, [], 11, 34.5, 8.5, 77]

function parseArray (array, errors = []) {
  if (!Array.isArray(array)) {
    errors.push(new TypeError('Argument should be an array'))
    return errors
  }
  const name = 'Parse Array Error'
  array.forEach((item, index) => !Number.isInteger(item) &&
    errors
      .push(Object.assign(new SyntaxError(), { name, stack: `Array element ${index} is not an integer.` })))
  return errors
}

const aggregatedError = new AggregateError(parseArray(array))

Object.assign(aggregatedError, {
  stack: 'Parse Array Errors:\n' + aggregatedError.errors.map(err => '    ' + err.stack).join('\n')
})

throw aggregatedError
~~~

![](illustrations/AggregateError-example-01.png)

__________________________________

[![ico-30 hw] **–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è**](test/exclusions)
