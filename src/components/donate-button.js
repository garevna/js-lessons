const { createPath } = require('../helpers').default
const { stars_for_donates } = require('../assets').default

// background-image: url(${createPath('images', 'stars-for-donates.gif')})

class DonateButton extends HTMLElement {
  constructor () {
    super()

    this.shadow = this.attachShadow({ mode: 'closed' })
    this.shadow.innerHTML = `
      <style>
        svg {
          background-image: url(${stars_for_donates});
          padding: 12px;
          border-radius: 4px;
        }
      </style>
      <svg viewBox="120 120 600 560" height="80" width="80">
        <style> @keyframes beat-of-yellow-heart { 0% { transform: scale(1); } 50% { transform: scale(0.8); } 100% { transform: scale(1); } } @keyframes beat-of-blue-heart { 0% { transform: scale(1) translate(-48px, -200px); } 20% { transform: scale(0.8) translate(-64px, -240px); } 40% { transform: scale(1) translate(-48px, -200px); } 100% { transform: scale(1) translate(-48px, -200px); } } .yellow-heart { fill: #fa0; animation: beat-of-yellow-heart 0.8s 0.2s alternate infinite; } .blue-heart { fill: #09b; animation: beat-of-blue-heart 0.8s alternate infinite ease-in-out; } .donate-text { fill: #fff; font-family: var(--donate-button-font); font-size: 160px; }
        </style>
        <g id="layer1">
          <path class="yellow-heart" d="m 357.23048,496.17801 c -0.0243,-0.3402 1.33794,-4.6152 3.02731,-9.5 6.91248,-19.9871 22.93254,-48.7355 35.59803,-63.88132 11.43423,-13.67347 35.03818,-34.78637 60.33039,-53.9634 17.0977,-12.96381 31.18467,-26.49692 37.93091,-36.43959 10.63217,-15.66978 15.92583,-31.19427 16.7812,-49.2135 0.8904,-18.75727 -2.56774,-28.89103 -13.63617,-39.95945 -7.47775,-7.47775 -14.38578,-11.17532 -25.08215,-13.42537 -8.87412,-1.86672 -13.80271,-1.88425 -23.21928,-0.0826 -9.43089,1.80442 -17.95671,5.2749 -25.43549,10.35365 -6.55806,4.45349 -16.98752,15.13313 -21.04664,21.55149 -3.53552,5.59045 -9.07911,19.48562 -10.35444,25.95374 -2.16638,10.98722 -1.87444,10.92062 -5.37005,1.22499 -10.37421,-28.77446 -26.13299,-46.75961 -48.56789,-55.42943 -21.51201,-8.31318 -44.73936,-4.49117 -58.9268,9.69627 -6.58454,6.58454 -9.22145,11.1575 -11.49658,19.93752 -5.44866,21.02705 4.33192,45.35464 34.89502,86.79568 32.39014,43.91837 42.35631,59.36267 48.60043,75.31476 4.20316,10.73796 6.57614,22.68356 3.71179,18.68526 -0.78802,-1.1 -3.11726,-5.0527 -5.17609,-8.7837 -7.78442,-14.10699 -25.36352,-33.33608 -54.60777,-59.7333 -32.23035,-29.09262 -47.33972,-44.90814 -57.22505,-59.89952 -7.45249,-11.30192 -10.5228,-17.4068 -13.99949,-27.83604 -1.90033,-5.70053 -2.25136,-8.91969 -2.2624,-20.74746 -0.0149,-16.00042 1.55806,-22.68694 8.69256,-36.95067 9.57205,-19.13704 20.92148,-30.49671 39.05024,-39.08551 12.91021,-6.11641 21.26701,-7.84329 38.24414,-7.90291 18.38659,-0.0646 26.6891,1.84293 43,9.87924 12.38901,6.10401 21.14424,12.87645 30.17029,23.33764 l 6.1549,7.13354 4.23727,-5.4923 c 7.8333,-10.1534 19.80236,-19.80746 32.43754,-26.16363 40.18899,-20.21718 91.17012,-6.23175 115.71865,31.7446 18.6339,28.82648 19.84316,64.99274 3.27672,98 -9.33923,18.60766 -23.82009,33.47126 -52.49537,53.8829 -2.475,1.76176 -15.525,10.55599 -29,19.54275 -42.93718,28.6357 -61.97045,44.79077 -82.55897,70.07437 -4.87413,5.9856 -14.96647,20.817 -19.14676,28.1374 -1.21316,2.1244 -2.22566,3.5842 -2.25,3.2439 z M 267.96355,330.54669 c -4.1784,-4.42485 -14.85253,-21.14827 -18.41738,-28.85497 -5.987,-12.94306 -7.61016,-20.96836 -7.13505,-35.27755 0.43654,-13.14762 1.42247,-17.33272 6.58246,-27.94136 3.18626,-6.55076 14.55508,-18.39822 22.95709,-23.92358 19.48454,-12.81351 47.10405,-14.89907 70.18503,-5.29969 4.09722,1.70403 8.14722,3.66865 9,4.36583 0.85278,0.69717 2.73396,1.85778 4.18039,2.57914 1.44644,0.72137 5.72144,4.04171 9.5,7.37855 l 6.87012,6.06697 -8,-8.23146 c -17.82904,-18.34491 -38.87528,-26.9145 -63.45664,-25.83824 -13.04114,0.57098 -20.38043,2.30167 -29.64688,6.99105 -14.18027,7.17608 -22.33919,15.27853 -29.20325,29.00111 -14.57911,29.14648 -9.13187,59.90116 15.71422,88.72124 8.0605,9.34972 11.46423,12.86609 12.52964,12.94423 0.5154,0.0378 -0.23148,-1.16877 -1.65975,-2.68127 z m 105.62484,102.25002 c 3.1223,-6.05002 8.68632,-15.27502 12.3645,-20.50002 9.17841,-13.03832 32.70526,-36.24834 54.73713,-54 31.37721,-25.28144 43.46786,-38.39837 52.1145,-56.53811 2.3695,-4.97096 5.25995,-12.84596 6.42322,-17.5 3.65694,-14.63076 3.8178,-14.97051 3.29609,-6.96189 -2.26241,34.72963 -17.05452,58.78435 -53.83762,87.54996 -50.75099,39.68897 -60.92299,49.25425 -74.19237,69.76716 -6.96618,10.7688 -7.1797,10.3403 -0.90545,-1.8171 z"/>
          <path class="blue-heart" d="m 565.85213,759.76423 c -9.3571,-17.9971 -28.1175,-45.6362 -41.9135,-61.75 -11.51874,-13.4539 -40.37403,-40.28796 -60.6021,-56.35716 -20.65694,-16.4099 -32.52152,-30.788 -40.55172,-49.1428 -16.88912,-38.6036 -10.33849,-75.6739 18.21178,-103.0613 11.11151,-10.6589 22.212,-17.1778 38.33994,-22.5154 7.93864,-2.6273 9.62271,-2.8167 25.5,-2.8682 16.7277,-0.054 17.1522,0 26.5,3.2541 17.8094,6.2037 33.0403,18.2142 43.9925,34.6908 l 5.3177,8 -6.9051,-7.1205 c -24.1392,-24.8921 -60.71639,-31.3861 -91.9051,-16.317 -30.98418,14.9703 -44.18122,47.2966 -31.48694,77.1278 4.49517,10.5634 9.35044,18.0163 20.07816,30.8201 11.3395,13.534 21.57909,23.4436 46.28298,44.7915 23.4398,20.2556 47.4029,44.09586 51.2095,50.94706 1.6039,2.8869 3.1413,5.2486 3.4163,5.2482 0.275,-4e-4 1.7452,-1.9718 3.2671,-4.3809 4.094,-6.4805 17.8486,-19.74806 27.1104,-26.15046 14.5419,-10.0525 24.2706,-15.7887 49.1225,-28.9633 18.7923,-9.9624 22.34,-12.0208 34.5474,-20.0449 18.7989,-12.3569 30.61381,-25.5781 35.17431,-39.361 2.1556,-6.5149 2.5466,-22.9339 0.732,-30.7383 -5.2545,-22.5985 -21.18881,-40.9454 -42.71581,-49.1834 -36.8297,-14.094 -77.0412,4.5743 -98.7074,45.8251 -5.0143,9.5468 -5.3701,9.4752 -2.587,-0.5201 4.9452,-17.7599 12.7681,-32.0581 23.9418,-43.7591 15.5571,-16.2912 31.3562,-22.9632 54.0847,-22.8401 20.0597,0.1087 36.117,5.5586 53.53,18.1682 40.94471,29.6499 49.71471,78.7482 21.51441,120.4474 -6.0566,8.9557 -22.14891,25.6202 -35.04491,36.2909 -8.8486,7.3217 -22.1734,16.0211 -45.4762,29.69006 -23.6532,13.8745 -38.5768,26.5596 -53.1036,45.1381 -6.7762,8.6662 -18.0512,26.1922 -22.9233,35.6322 -1.6315,3.1612 -3.2982,5.7487 -3.7038,5.75 -0.4056,10e-4 -2.3167,-3.0351 -4.247,-6.7476 z m -22.3729,-108.24996 c -5.1464,-5.225 -13.6498,-13.1 -18.8963,-17.5 -33.22204,-27.8618 -49.98191,-46.8455 -59.4831,-67.3759 -5.85233,-12.6459 -7.12236,-18.0496 -7.19754,-30.6241 -0.0647,-10.8252 -0.004,-11.123 3.80045,-18.744 8.33125,-16.6876 25.99079,-27.8611 48.63379,-30.7716 12.8492,-1.6516 24.8967,0.3524 36.843,6.1288 4.5887,2.2187 8.1486,4.2286 7.9109,4.4663 -0.2377,0.2377 -4.2171,-0.5456 -8.8431,-1.7407 -12.1754,-3.1454 -32.7186,-3.123 -41.79737,0.046 -29.16172,10.1778 -41.22181,41.0845 -27.63827,70.8294 5.73285,12.5536 20.42753,31.7562 39.44244,51.5421 13.1774,13.7117 21.3629,22.5436 25.7136,27.7442 4.9451,5.9111 11.6731,15.0384 11.26,15.2755 -0.2151,0.1235 -4.602,-4.0505 -9.7485,-9.2755 z"/>
          <text x="140" y="700" class="donate-text">DONATE</text>
        </g>
      </svg>
    `
    this.svg = this.shadow.querySelector('svg')
  }

  static get observedAttributes () {
    return ['size']
  }

  attributeChangedCallback (attrName, oldVal, newVal) {
    this.svg.setAttribute('width', newVal)
    this.svg.setAttribute('height', newVal)
  }

  connectedCallback () {
    const size = this.getAttribute('size') || 80
    this.svg.setAttribute('width', size)
    this.svg.setAttribute('height', size)
  }
}

customElements.define('donate-button', DonateButton)
